# Backend –¥–ª—è –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å–∞

## üìã –û–ø–∏—Å–∞–Ω–∏–µ

–≠—Ç–æ —Å–µ—Ä–≤–µ—Ä–Ω–∞—è —á–∞—Å—Ç—å –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å–∞, —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–Ω–∞—è –Ω–∞ Node.js, Express –∏ MongoDB.

## üõ†Ô∏è –°—Ç–µ–∫ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π

- **Node.js** - —Å–µ—Ä–≤–µ—Ä–Ω–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞
- **Express** - –≤–µ–±-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫
- **MongoDB** - –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- **Mongoose** - ODM –¥–ª—è MongoDB
- **JWT** - –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
- **bcryptjs** - —Ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–æ–ª–µ–π

## üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞

1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
```bash
npm install
```

2. –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –Ω–∞ –æ—Å–Ω–æ–≤–µ `.env.example`:
```bash
cp .env.example .env
```

3. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –≤ —Ñ–∞–π–ª–µ `.env`:
   - `PORT` - –ø–æ—Ä—Ç —Å–µ—Ä–≤–µ—Ä–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 5000)
   - `MONGO_URI` - —Å—Ç—Ä–æ–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ MongoDB
   - `JWT_SECRET` - —Å–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á –¥–ª—è JWT —Ç–æ–∫–µ–Ω–æ–≤
   - `NODE_ENV` - —Ä–µ–∂–∏–º —Ä–∞–±–æ—Ç—ã (development/production)

## üöÄ –ó–∞–ø—É—Å–∫

### –†–µ–∂–∏–º —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ (—Å –∞–≤—Ç–æ–ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–æ–π):
```bash
npm run dev
```

### –ü—Ä–æ–¥–∞–∫—à–Ω —Ä–µ–∂–∏–º:
```bash
npm start
```

## üìö API Endpoints

### üîê –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è (`/api/auth`)

- **POST** `/register` - –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
  ```json
  {
    "login": "username",
    "email": "user@example.com",
    "password": "password123"
  }
  ```

- **POST** `/login` - –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
  ```json
  {
    "login": "username",
    "password": "password123"
  }
  ```

- **GET** `/profile` - –ü–æ–ª—É—á–∏—Ç—å –ø—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (—Ç—Ä–µ–±—É–µ—Ç—Å—è —Ç–æ–∫–µ–Ω)
- **PUT** `/profile` - –û–±–Ω–æ–≤–∏—Ç—å –ø—Ä–æ—Ñ–∏–ª—å (—Ç—Ä–µ–±—É–µ—Ç—Å—è —Ç–æ–∫–µ–Ω)

### üì¶ –¢–æ–≤–∞—Ä—ã (`/api/products`)

- **GET** `/` - –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ —Ç–æ–≤–∞—Ä—ã
  - Query –ø–∞—Ä–∞–º–µ—Ç—Ä—ã: `category`, `isPopular`, `isNew`, `search`, `page`, `limit`
- **GET** `/popular` - –ü–æ–ø—É–ª—è—Ä–Ω—ã–µ —Ç–æ–≤–∞—Ä—ã
- **GET** `/new` - –ù–æ–≤—ã–µ —Ç–æ–≤–∞—Ä—ã
- **GET** `/:id` - –ü–æ–ª—É—á–∏—Ç—å —Ç–æ–≤–∞—Ä –ø–æ ID
- **POST** `/` - –°–æ–∑–¥–∞—Ç—å —Ç–æ–≤–∞—Ä (—Ç—Ä–µ–±—É–µ—Ç—Å—è —Ç–æ–∫–µ–Ω + —Ä–æ–ª—å –ø—Ä–æ–¥–∞–≤—Ü–∞)
- **PUT** `/:id` - –û–±–Ω–æ–≤–∏—Ç—å —Ç–æ–≤–∞—Ä (—Ç—Ä–µ–±—É–µ—Ç—Å—è —Ç–æ–∫–µ–Ω + —Ä–æ–ª—å –ø—Ä–æ–¥–∞–≤—Ü–∞)
- **DELETE** `/:id` - –£–¥–∞–ª–∏—Ç—å —Ç–æ–≤–∞—Ä (—Ç—Ä–µ–±—É–µ—Ç—Å—è —Ç–æ–∫–µ–Ω + —Ä–æ–ª—å –ø—Ä–æ–¥–∞–≤—Ü–∞)

### üõí –ö–æ—Ä–∑–∏–Ω–∞ (`/api/cart`)

- **GET** `/` - –ü–æ–ª—É—á–∏—Ç—å –∫–æ—Ä–∑–∏–Ω—É (—Ç—Ä–µ–±—É–µ—Ç—Å—è —Ç–æ–∫–µ–Ω)
- **POST** `/` - –î–æ–±–∞–≤–∏—Ç—å —Ç–æ–≤–∞—Ä –≤ –∫–æ—Ä–∑–∏–Ω—É (—Ç—Ä–µ–±—É–µ—Ç—Å—è —Ç–æ–∫–µ–Ω)
  ```json
  {
    "productId": "product_id",
    "quantity": 1
  }
  ```
- **PUT** `/:productId` - –û–±–Ω–æ–≤–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–æ–≤–∞—Ä–∞ (—Ç—Ä–µ–±—É–µ—Ç—Å—è —Ç–æ–∫–µ–Ω)
  ```json
  {
    "quantity": 2
  }
  ```
- **DELETE** `/:productId` - –£–¥–∞–ª–∏—Ç—å —Ç–æ–≤–∞—Ä –∏–∑ –∫–æ—Ä–∑–∏–Ω—ã (—Ç—Ä–µ–±—É–µ—Ç—Å—è —Ç–æ–∫–µ–Ω)
- **DELETE** `/` - –û—á–∏—Å—Ç–∏—Ç—å –∫–æ—Ä–∑–∏–Ω—É (—Ç—Ä–µ–±—É–µ—Ç—Å—è —Ç–æ–∫–µ–Ω)

### üìã –ó–∞–∫–∞–∑—ã (`/api/orders`)

- **POST** `/` - –°–æ–∑–¥–∞—Ç—å –∑–∞–∫–∞–∑ (—Ç—Ä–µ–±—É–µ—Ç—Å—è —Ç–æ–∫–µ–Ω)
  ```json
  {
    "items": [
      {
        "product": "product_id",
        "quantity": 1
      }
    ],
    "deliveryAddress": {
      "country": "–†–æ—Å—Å–∏—è",
      "city": "–ú–æ—Å–∫–≤–∞",
      "address": "—É–ª. –ü—Ä–∏–º–µ—Ä–Ω–∞—è, –¥. 1, –∫–≤. 1"
    },
    "paymentMethod": "visa"
  }
  ```
- **GET** `/` - –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ –∑–∞–∫–∞–∑—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (—Ç—Ä–µ–±—É–µ—Ç—Å—è —Ç–æ–∫–µ–Ω)
- **GET** `/:id` - –ü–æ–ª—É—á–∏—Ç—å –∑–∞–∫–∞–∑ –ø–æ ID (—Ç—Ä–µ–±—É–µ—Ç—Å—è —Ç–æ–∫–µ–Ω)
- **PUT** `/:id/pay` - –û—Ç–º–µ—Ç–∏—Ç—å –∑–∞–∫–∞–∑ –∫–∞–∫ –æ–ø–ª–∞—á–µ–Ω–Ω—ã–π (—Ç—Ä–µ–±—É–µ—Ç—Å—è —Ç–æ–∫–µ–Ω)
- **PUT** `/:id/cancel` - –û—Ç–º–µ–Ω–∏—Ç—å –∑–∞–∫–∞–∑ (—Ç—Ä–µ–±—É–µ—Ç—Å—è —Ç–æ–∫–µ–Ω)
- **GET** `/all/admin` - –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ –∑–∞–∫–∞–∑—ã (—Ç—Ä–µ–±—É–µ—Ç—Å—è —Ç–æ–∫–µ–Ω + —Ä–æ–ª—å –∞–¥–º–∏–Ω–∞)
- **PUT** `/:id/status` - –û–±–Ω–æ–≤–∏—Ç—å —Å—Ç–∞—Ç—É—Å –∑–∞–∫–∞–∑–∞ (—Ç—Ä–µ–±—É–µ—Ç—Å—è —Ç–æ–∫–µ–Ω + —Ä–æ–ª—å –∞–¥–º–∏–Ω–∞)

## üë• –†–æ–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

- **buyer** - –ø–æ–∫—É–ø–∞—Ç–µ–ª—å (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
- **seller** - –ø—Ä–æ–¥–∞–≤–µ—Ü (–º–æ–∂–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –∏ —É–ø—Ä–∞–≤–ª—è—Ç—å —Ç–æ–≤–∞—Ä–∞–º–∏)
- **admin** - –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä (–ø–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø)

## üîë –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è

–î–ª—è –∑–∞—â–∏—â–µ–Ω–Ω—ã—Ö —Ä–æ—É—Ç–æ–≤ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å JWT —Ç–æ–∫–µ–Ω –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ:
```
Authorization: Bearer your_jwt_token
```

## üìù –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö

### User (–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å)
- login (—É–Ω–∏–∫–∞–ª—å–Ω—ã–π)
- email (—É–Ω–∏–∫–∞–ª—å–Ω—ã–π)
- password (—Ö–µ—à–∏—Ä–æ–≤–∞–Ω–Ω—ã–π)
- role
- cart (–∫–æ—Ä–∑–∏–Ω–∞)
- orders (–∑–∞–∫–∞–∑—ã)

### Product (–¢–æ–≤–∞—Ä)
- name
- description
- price
- discount
- finalPrice (–≤—ã—á–∏—Å–ª—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
- category
- image
- images
- stock
- seller (—Å—Å—ã–ª–∫–∞ –Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è)
- rating
- isActive
- isPopular
- isNew

### Order (–ó–∞–∫–∞–∑)
- user (—Å—Å—ã–ª–∫–∞ –Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è)
- items (–º–∞—Å—Å–∏–≤ —Ç–æ–≤–∞—Ä–æ–≤)
- totalPrice
- discount
- finalPrice
- deliveryAddress
- paymentMethod
- status (pending, processing, shipped, delivered, cancelled)
- isPaid
- isDelivered

## üìä –°—Ç–∞—Ç—É—Å—ã –∑–∞–∫–∞–∑–æ–≤

- `pending` - –æ–∂–∏–¥–∞–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∫–∏
- `processing` - –≤ –æ–±—Ä–∞–±–æ—Ç–∫–µ
- `shipped` - –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω
- `delivered` - –¥–æ—Å—Ç–∞–≤–ª–µ–Ω
- `cancelled` - –æ—Ç–º–µ–Ω–µ–Ω

## üí≥ –°–ø–æ—Å–æ–±—ã –æ–ø–ª–∞—Ç—ã

- `visa` - VISA
- `mastercard` - MasterCard
- `paypal` - PayPal

## üîß –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞:
```
server/
‚îú‚îÄ‚îÄ config/          # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (–±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö)
‚îú‚îÄ‚îÄ controllers/     # –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã (–±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞)
‚îú‚îÄ‚îÄ middleware/      # Middleware (–∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è)
‚îú‚îÄ‚îÄ models/          # –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö
‚îú‚îÄ‚îÄ routes/          # –†–æ—É—Ç—ã API
‚îú‚îÄ‚îÄ .env.example     # –ü—Ä–∏–º–µ—Ä –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ server.js        # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞
‚îî‚îÄ‚îÄ package.json     # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
```

## üö® –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ—à–∏–±–∫–∏ –≤ —Ñ–æ—Ä–º–∞—Ç–µ:
```json
{
  "message": "–û–ø–∏—Å–∞–Ω–∏–µ –æ—à–∏–±–∫–∏"
}
```

HTTP –∫–æ–¥—ã:
- `200` - –£—Å–ø–µ—à–Ω–æ
- `201` - –°–æ–∑–¥–∞–Ω–æ
- `400` - –ù–µ–≤–µ—Ä–Ω—ã–π –∑–∞–ø—Ä–æ—Å
- `401` - –ù–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω
- `403` - –î–æ—Å—Ç—É–ø –∑–∞–ø—Ä–µ—â–µ–Ω
- `404` - –ù–µ –Ω–∞–π–¥–µ–Ω–æ
- `500` - –û—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

ISC

